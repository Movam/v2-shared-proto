syntax = "proto3";

package notification;

service NotificationService {
   rpc RegisterDevice (RegisterDeviceRequest) returns (RegisterDeviceResponse) {}
   rpc GetNotificationMessages (GetNotificationMessagesRequest) returns (GetNotificationMessagesResponse) {}
   rpc ReadNotification (ReadNotificationRequest) returns (ReadNotificationResponse) {}
   }
 
   message RegisterDeviceRequest {
      string deviceToken = 1;
      string deviceType = 2;
      string email = 3;
    }
   message RegisterDeviceResponse {
      int32 statusCode = 1;
      repeated string error = 2;
      string id = 3;
    }
    message GetNotificationMessagesRequest {
      string email = 1;
      optional int32 skip = 2;
      optional int32 take = 3;
    }
    message GetNotificationMessagesResponse {
      int32 statusCode = 1;
      repeated string error = 2;
      repeated NotificationMessage data = 3;
    }
    message NotificationMessage{
      int32  id   =1;              
      string title =2;              
      string body =3;               
      string status = 4;                 
    }
    message ReadNotificationRequest {
      string email = 1;
      int32 messageId = 2;
    }
   message ReadNotificationResponse {
      int32 statusCode = 1;
      repeated string error = 2;
      bool isRead = 3;
    }