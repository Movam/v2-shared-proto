syntax = "proto3";

package notification;

service NotificationService {
   rpc RegisterDevice (RegisterDeviceRequest) returns (RegisterDeviceResponse) {}
   rpc GetNotificationMessages (GetNotificationMessagesRequest) returns (GetNotificationMessagesResponse) {}
   rpc ReadNotification (ReadNotificationRequest) returns (ReadNotificationResponse) {}
   }
 
   message RegisterDeviceRequest {
      string deviceToken = 1;
      string email = 2;
    }
   message RegisterDeviceResponse {
      int32 statusCode = 1;
      repeated string error = 2;
      string uuid = 3;
    }
    message GetNotificationMessagesRequest {
      string email = 1;
      int32 skip = 2;
      int32 take = 3;
    }
    message GetNotificationMessagesResponse {
      repeated NotificationMessage notificationMessage = 1;
    }
    message NotificationMessage{
      int32  uuid   =1;              
      string title =2;              
      string body =3;               
      string status = 4;             
      string createdAt  =5;      
      string updatedAt  =6;        
    }
    message ReadNotificationRequest {
      string email = 1;
      int32 messageUUID = 2;
    }
   message ReadNotificationResponse {
      int32 statusCode = 1;
      repeated string error = 2;
      bool isRead = 3;
    }